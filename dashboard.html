<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>CSS-only Interactive Workspace</title>
<style>
  /* --------------------------------
     Design tokens
  ---------------------------------*/
  :root {
    /* Base colors (dark) */
    --bg: #0f1116;
    --surface: #151a24;
    --surface-2: #1a2030;
    --glass: rgba(255,255,255,0.06);
    --text: #e8eef9;
    --muted: #b3c0d4;
    --primary: #7aa2ff;
    --accent: #7fffd4;
    --ok: #6ee7a5;
    --warn: #ffd480;
    --danger: #ff6b6b;

    /* Light theme palette */
    --bg-light: #f7f9fc;
    --surface-light: #ffffff;
    --surface-2-light: #f1f5fb;
    --text-light: #1b2430;
    --muted-light: #5b6676;
    --glass-light: rgba(0,0,0,0.06);

    /* Layout + sizing */
    --sidebar-w: 280px;
    --header-h: 64px;

    /* Spacing + radii */
    --s1: 4px; --s2: 8px; --s3: 12px; --s4: 16px; --s5: 24px; --s6: 32px;
    --r1: 8px; --r2: 12px; --r3: 20px;

    /* Typography */
    --font-ui: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans";
    --fs-12: clamp(11px,0.8vw,12px);
    --fs-14: clamp(12px,1vw,14px);
    --fs-16: clamp(14px,1.2vw,16px);
    --fs-18: clamp(16px,1.4vw,18px);
    --fs-22: clamp(18px,2vw,22px);
    --fs-28: clamp(20px,3vw,28px);

    /* Elevation */
    --border: 1px solid rgba(255,255,255,0.08);
    --border-light: 1px solid rgba(0,0,0,0.08);
    --shadow-1: 0 6px 22px rgba(0,0,0,0.25);
    --shadow-2: 0 16px 40px rgba(0,0,0,0.35);

    /* Motion */
    --dur-1: 160ms;
    --dur-2: 260ms;
    --ease: cubic-bezier(.2,.8,.2,1);
  }

  /* Base */
  html, body { height: 100%; background: var(--bg); color: var(--text); font-family: var(--font-ui); }
  * { box-sizing: border-box; }

  /* Theme toggle via checkbox: when checked, swap CSS variables */
  /* IMPORTANT: The checkbox with id="theme" sits before .app so sibling selector works */
  #theme:checked ~ .app {
    --bg: var(--bg-light);
    --surface: var(--surface-light);
    --surface-2: var(--surface-2-light);
    --text: var(--text-light);
    --muted: var(--muted-light);
    --glass: var(--glass-light);
    --border: var(--border-light);
    --shadow-1: 0 6px 22px rgba(0,0,0,0.08);
    --shadow-2: 0 16px 40px rgba(0,0,0,0.12);
  }

  /* Reduced motion preference respected */
  @media (prefers-reduced-motion: reduce) {
    * { transition: none !important; animation: none !important; }
  }

  /* --------------------------------
     App shell layout
  ---------------------------------*/
  .app {
    display: grid;
    grid-template-columns: var(--sidebar-w) 1fr;
    grid-template-rows: var(--header-h) 1fr;
    grid-template-areas:
      "sidebar header"
      "sidebar main";
    height: 100dvh;
  }

  /* Sidebar */
  .sidebar {
    grid-area: sidebar;
    background: linear-gradient(180deg, var(--surface) 0%, var(--surface-2) 100%);
    border-right: var(--border);
    position: sticky; top: 0; height: 100dvh;
    padding: var(--s5) var(--s4);
    display: flex; flex-direction: column; gap: var(--s4);
  }
  .logo { display:flex; align-items:center; gap: var(--s3); }
  .logo-badge {
    width: 40px; height: 40px; border-radius: 12px;
    background:
      radial-gradient(120% 120% at 20% 20%, var(--primary) 0%, transparent 60%),
      radial-gradient(120% 120% at 80% 80%, var(--accent) 0%, transparent 60%),
      var(--glass);
    box-shadow: var(--shadow-1);
  }
  .logo h1 { font-size: var(--fs-18); letter-spacing:.4px; }
  .section-title {
    font-size: var(--fs-12); color: var(--muted);
    text-transform: uppercase; letter-spacing: 1.6px;
  }
  .nav { display:grid; gap: var(--s2); }
  .nav a {
    display:flex; align-items:center; gap: var(--s3);
    padding: var(--s3) var(--s3);
    border-radius: var(--r1);
    color: var(--text); text-decoration:none;
    border: var(--border);
    background: linear-gradient(180deg, var(--glass), transparent);
    transition: background var(--dur-1) var(--ease), transform var(--dur-1) var(--ease);
  }
  .nav a:hover { background: var(--surface-2); transform: translateY(-1px); }
  .nav .icon { width:24px; height:24px; border-radius: 6px; background: linear-gradient(135deg, var(--primary), var(--accent)); opacity:.9; }

  /* Header */
  .header {
    grid-area: header;
    backdrop-filter: saturate(1.1) blur(8px);
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0));
    border-bottom: var(--border);
    display:flex; align-items:center; justify-content:space-between;
    padding: 0 var(--s5);
  }
  .search {
    display:flex; align-items:center; gap: var(--s2);
    border: var(--border); border-radius: var(--r2);
    padding: 8px 12px; background: var(--surface);
    width: clamp(240px, 28vw, 420px);
  }
  .search input {
    background: transparent; border:none; outline:none;
    color: var(--text); font-size: var(--fs-14); flex:1;
  }
  .kbd { font-size: var(--fs-12); color: var(--muted); border: var(--border); border-radius: 6px; padding: 2px 6px; }
  .btn {
    border: var(--border); border-radius: var(--r2);
    background: var(--surface); color: var(--text);
    padding: 10px 14px; font-size: var(--fs-14);
    transition: background var(--dur-1) var(--ease), transform var(--dur-1) var(--ease);
  }
  .btn:hover { background: var(--surface-2); transform: translateY(-1px); }

  /* Theme toggle button styled as label */
  .toggle {
    display:inline-flex; align-items:center; gap: 10px;
    cursor:pointer;
  }
  .toggle .switch {
    width: 42px; height: 26px; border-radius: 999px;
    background: var(--surface-2);
    border: var(--border);
    position: relative;
    transition: background var(--dur-1) var(--ease);
  }
  .toggle .switch::after {
    content:""; position:absolute; top:3px; left:3px;
    width:20px; height:20px; border-radius: 50%;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    transition: transform var(--dur-1) var(--ease);
  }
  #theme:checked ~ .app .toggle .switch::after { transform: translateX(16px); }

  /* Main area */
  .main {
    grid-area: main;
    padding: var(--s5);
    display: grid;
    grid-template-columns: 1fr;
    grid-auto-rows: minmax(120px, auto);
    gap: var(--s5);
    overflow:auto;
  }

  /* Filters (checkbox chips) */
  .filters { display:flex; flex-wrap:wrap; gap: var(--s2); align-items:center; }
  .chip {
    display:inline-flex; align-items:center; gap:8px;
    padding: 8px 12px; border-radius: 999px;
    border: var(--border);
    background: linear-gradient(180deg, var(--glass), transparent);
    font-size: var(--fs-12); color: var(--muted);
    cursor:pointer; transition: background var(--dur-1) var(--ease);
  }
  .chip input { display:none; }
  .chip:has(input:checked) {
    color: var(--text);
    border-color: transparent;
    background: linear-gradient(135deg, rgba(90,132,245,0.25), rgba(127,255,212,0.18));
  }

  /* Cards grid */
  .grid { display:grid; grid-template-columns: repeat(12,1fr); gap: var(--s5); }
  @media (max-width: 1100px) { .grid { grid-template-columns: repeat(8,1fr); } }
  @media (max-width: 720px)  { .grid { grid-template-columns: repeat(4,1fr); } }

  .card {
    grid-column: span 4;
    background: var(--surface);
    border: var(--border);
    border-radius: var(--r2);
    box-shadow: var(--shadow-1);
    padding: var(--s4);
    display:grid; gap: var(--s3);
    text-decoration:none; color: inherit;
    transition: transform var(--dur-1) var(--ease), box-shadow var(--dur-1) var(--ease);
  }
  .card:hover { transform: translateY(-2px); box-shadow: var(--shadow-2); }
  .card-header { display:flex; align-items:center; justify-content:space-between; }
  .card-title { font-size: var(--fs-16); }
  .delta { font-size: var(--fs-12); }
  .delta.up { color: var(--ok); }
  .delta.down { color: var(--danger); }
  .spark {
    height: 64px; border-radius: 8px;
    background:
      linear-gradient(180deg, var(--glass), transparent),
      repeating-linear-gradient(90deg, rgba(255,255,255,0.06) 0 2px, transparent 2px 4px);
  }
  .meta { color: var(--muted); font-size: var(--fs-12); }

  /* Drawer via :target */
  .drawer {
    position: fixed; inset: auto 0 0 0;
    height: min(60vh, 520px);
    background: var(--surface-2);
    border-top: var(--border);
    box-shadow: 0 -18px 40px rgba(0,0,0,0.35);
    border-top-left-radius: var(--r3);
    border-top-right-radius: var(--r3);
    transform: translateY(100%);
    transition: transform var(--dur-2) var(--ease);
    display: grid;
    grid-template-columns: 1.2fr 1fr;
  }
  .drawer:target { transform: translateY(0); }
  .drawer .panel { padding: var(--s5); overflow:auto; }
  .drawer h3 { font-size: var(--fs-22); margin: 0 0 var(--s3); }

  /* Command palette via :target */
  .cmd {
    position: fixed; inset: 10% auto auto 50%;
    transform: translateX(-50%) scale(.98);
    width: min(640px, 90vw);
    background: var(--surface);
    border: var(--border);
    border-radius: var(--r2);
    box-shadow: var(--shadow-2);
    opacity: 0; pointer-events: none;
    transition: opacity var(--dur-2) var(--ease), transform var(--dur-2) var(--ease);
  }
  .cmd:target { opacity: 1; pointer-events: auto; transform: translateX(-50%) scale(1); }
  .cmd .row { display:grid; grid-template-columns: 1fr auto; gap: var(--s2); padding: var(--s3) var(--s4); }
  .cmd .row + .row { border-top: var(--border); }
  .cmd .hint { color: var(--muted); font-size: var(--fs-12); }

  /* Help footer */
  .help { color: var(--muted); font-size: var(--fs-12); text-align:center; padding: var(--s4); }

  /* Scroll areas */
  .main { scroll-snap-type: y proximity; }
  .grid, .filters { scroll-snap-align: start; }

  /* Focus ring for accessibility */
  :where(a, button, input, label, [tabindex]):focus-visible {
    outline: 2px solid color-mix(in oklab, var(--primary) 60%, white 40%);
    outline-offset: 3px;
    border-radius: 8px;
  }

  /* Responsive: collapse sidebar */
  @media (max-width: 920px) {
    .app { grid-template-columns: 72px 1fr; }
    .sidebar .logo h1, .sidebar .section-title, .sidebar .nav .label { display:none; }
  }
</style>
</head>
<body>

  <!-- Theme toggle checkbox (controls light/dark through sibling selector) -->
  <input type="checkbox" id="theme" hidden>

  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" aria-label="Primary">
      <div class="logo">
        <div class="logo-badge" aria-hidden="true"></div>
        <h1>Analytica CSS</h1>
      </div>

      <div>
        <div class="section-title">Workspace</div>
        <nav class="nav">
          <a href="#"><div class="icon" aria-hidden="true"></div><span class="label">Overview</span></a>
          <a href="#"><div class="icon" aria-hidden="true"></div><span class="label">Revenue</span></a>
          <a href="#"><div class="icon" aria-hidden="true"></div><span class="label">Funnels</span></a>
          <a href="#"><div class="icon" aria-hidden="true"></div><span class="label">Retention</span></a>
        </nav>
      </div>

      <div>
        <div class="section-title">Projects</div>
        <nav class="nav">
          <a href="#"><div class="icon" aria-hidden="true"></div><span class="label">Mobile App</span></a>
          <a href="#"><div class="icon" aria-hidden="true"></div><span class="label">Web Platform</span></a>
        </nav>
      </div>

      <div class="help">Open palette: <a href="#cmd">#/cmd</a> • Close: <a href="#">#/</a></div>
    </aside>

    <!-- Header -->
    <header class="header">
      <div class="search">
        <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" fill="none"/>
          <line x1="16" y1="16" x2="22" y2="22" stroke="currentColor" stroke-width="2"/>
        </svg>
        <input type="search" placeholder="Search (visual only)" aria-label="Search">
        <span class="kbd">CSS-only</span>
      </div>
      <label for="theme" class="toggle">
        <span class="btn">Toggle theme</span>
        <span class="switch" aria-hidden="true"></span>
      </label>
    </header>

    <!-- Main -->
    <main class="main" role="main">
      <!-- Filters -->
      <section class="filters" aria-label="Filters">
        <label class="chip"><input type="checkbox" checked> Last 7d</label>
        <label class="chip"><input type="checkbox"> Last 30d</label>
        <label class="chip"><input type="checkbox"> APAC</label>
        <label class="chip"><input type="checkbox"> EMEA</label>
        <label class="chip"><input type="checkbox"> Web</label>
        <label class="chip"><input type="checkbox"> iOS</label>
      </section>

      <!-- Grid of metric cards -->
      <section class="grid" aria-label="Metrics">
        <!-- Card 1 -->
        <a class="card" href="#drawer-active-users">
          <div class="card-header">
            <div class="card-title">Active Users</div>
            <div class="delta up">+4.2%</div>
          </div>
          <div class="spark" aria-hidden="true"></div>
          <div class="meta">Web + iOS</div>
        </a>

        <!-- Card 2 -->
        <a class="card" href="#drawer-conversion">
          <div class="card-header">
            <div class="card-title">Conversion Rate</div>
            <div class="delta down">-0.8%</div>
          </div>
          <div class="spark" aria-hidden="true"></div>
          <div class="meta">Checkout funnel</div>
        </a>

        <!-- Card 3 -->
        <a class="card" href="#drawer-revenue">
          <div class="card-header">
            <div class="card-title">Revenue</div>
            <div class="delta up">+12.7%</div>
          </div>
          <div class="spark" aria-hidden="true"></div>
          <div class="meta">$</div>
        </a>

        <!-- Card 4 -->
        <a class="card" href="#drawer-retention">
          <div class="card-header">
            <div class="card-title">Retention D7</div>
            <div class="delta up">+1.9%</div>
          </div>
          <div class="spark" aria-hidden="true"></div>
          <div class="meta">Cohorts</div>
        </a>

        <!-- Card 5 -->
        <a class="card" href="#drawer-bugs">
          <div class="card-header">
            <div class="card-title">Bugs Open</div>
            <div class="delta down">-11</div>
          </div>
          <div class="spark" aria-hidden="true"></div>
          <div class="meta">Platform health</div>
        </a>

        <!-- Card 6 -->
        <a class="card" href="#drawer-nps">
          <div class="card-header">
            <div class="card-title">NPS</div>
            <div class="delta up">+2</div>
          </div>
          <div class="spark" aria-hidden="true"></div>
          <div class="meta">Customer voice</div>
        </a>
      </section>
    </main>
  </div>

  <!-- Drawers (CSS-only via :target) -->
  <section id="drawer-active-users" class="drawer" aria-label="Details">
    <div class="panel">
      <h3>Active Users</h3>
      <div class="meta">Last 7 days • Change +4.2%</div>
      <div class="big-chart" aria-hidden="true" style="
        height:220px; border-radius: var(--r2); border: var(--border);
        background:
          radial-gradient(120% 80% at 0% 0%, rgba(123,162,255,0.18), transparent 60%),
          radial-gradient(120% 80% at 100% 100%, rgba(127,255,212,0.14), transparent 60%),
          linear-gradient(180deg, var(--glass), transparent);
      "></div>
    </div>
    <div class="panel">
      <h4 style="margin:0 0 12px;">Notes</h4>
      <ul style="margin:0; padding-left:18px; color: var(--muted);">
        <li>Segment impact analysis</li>
        <li>Recent experiment notes</li>
        <li>Next actions</li>
      </ul>
      <div style="height:16px;"></div>
      <h4 style="margin:0 0 12px;">Close</h4>
      <a class="btn" href="#">Back</a>
    </div>
  </section>

  <section id="drawer-conversion" class="drawer" aria-label="Details">
    <div class="panel">
      <h3>Conversion Rate</h3>
      <div class="meta">Last 7 days • Change -0.8%</div>
      <div class="big-chart" aria-hidden="true" style="height:220px; border-radius: var(--r2); border: var(--border);
        background:
          radial-gradient(120% 80% at 0% 0%, rgba(255,107,107,0.18), transparent 60%),
          radial-gradient(120% 80% at 100% 100%, rgba(127,255,212,0.14), transparent 60%),
          linear-gradient(180deg, var(--glass), transparent);
      "></div>
    </div>
    <div class="panel">
      <h4 style="margin:0 0 12px;">Close</h4>
      <a class="btn" href="#">Back</a>
    </div>
  </section>

  <section id="drawer-revenue" class="drawer" aria-label="Details">
    <div class="panel">
      <h3>Revenue</h3>
      <div class="meta">Last 7 days • Change +12.7%</div>
      <div class="big-chart" aria-hidden="true" style="height:220px; border-radius: var(--r2); border: var(--border);
        background:
          radial-gradient(120% 80% at 0% 0%, rgba(127,255,212,0.18), transparent 60%),
          radial-gradient(120% 80% at 100% 100%, rgba(122,162,255,0.14), transparent 60%),
          linear-gradient(180deg, var(--glass), transparent);
      "></div>
    </div>
    <div class="panel">
      <h4 style="margin:0 0 12px;">Close</h4>
      <a class="btn" href="#">Back</a>
    </div>
  </section>

  <section id="drawer-retention" class="drawer" aria-label="Details">
    <div class="panel">
      <h3>Retention D7</h3>
      <div class="meta">Last 7 days • Change +1.9%</div>
      <div class="big-chart" aria-hidden="true" style="height:220px; border-radius: var(--r2); border: var(--border);
        background:
          radial-gradient(120% 80% at 0% 0%, rgba(122,162,255,0.18), transparent 60%),
          radial-gradient(120% 80% at 100% 100%, rgba(255,212,128,0.14), transparent 60%),
          linear-gradient(180deg, var(--glass), transparent);
      "></div>
    </div>
    <div class="panel">
      <h4 style="margin:0 0 12px;">Close</h4>
      <a class="btn" href="#">Back</a>
    </div>
  </section>

  <section id="drawer-bugs" class="drawer" aria-label="Details">
    <div class="panel">
      <h3>Bugs Open</h3>
      <div class="meta">Last 7 days • Change -11</div>
      <div class="big-chart" aria-hidden="true" style="height:220px; border-radius: var(--r2); border: var(--border);
        background:
          radial-gradient(120% 80% at 0% 0%, rgba(255,107,107,0.18), transparent 60%),
          radial-gradient(120% 80% at 100% 100%, rgba(255,212,128,0.14), transparent 60%),
          linear-gradient(180deg, var(--glass), transparent);
      "></div>
    </div>
    <div class="panel">
      <h4 style="margin:0 0 12px;">Close</h4>
      <a class="btn" href="#">Back</a>
    </div>
  </section>

  <section id="drawer-nps" class="drawer" aria-label="Details">
    <div class="panel">
      <h3>NPS</h3>
      <div class="meta">Last 7 days • Change +2</div>
      <div class="big-chart" aria-hidden="true" style="height:220px; border-radius: var(--r2); border: var(--border);
        background:
          radial-gradient(120% 80% at 0% 0%, rgba(127,255,212,0.18), transparent 60%),
          radial-gradient(120% 80% at 100% 100%, rgba(122,162,255,0.14), transparent 60%),
          linear-gradient(180deg, var(--glass), transparent);
      "></div>
    </div>
    <div class="panel">
      <h4 style="margin:0 0 12px;">Close</h4>
      <a class="btn" href="#">Back</a>
    </div>
  </section>

  <!-- Command palette (CSS-only) -->
  <section id="cmd" class="cmd" aria-label="Command palette">
    <div class="row">
      <div><strong>Toggle theme</strong> <span class="hint">Use switch in header</span></div>
      <a class="btn" href="#">Close</a>
    </div>
    <div class="row">
      <div><strong>Focus filters</strong> <span class="hint">Tab to chips</span></div>
      <a class="btn" href="#">Close</a>
    </div>
    <div class="row">
      <div><strong>Clear selection</strong> <span class="hint">Manually uncheck chips</span></div>
      <a class="btn" href="#">Close</a>
    </div>
  </section>

</body>
</html>